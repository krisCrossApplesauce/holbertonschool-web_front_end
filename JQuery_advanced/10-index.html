<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8" />
		<title>Task 10</title>

		<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
		<script type="application/javascript">
			$(document).ready(function() {
				function addPostRow(data) {
					$("body").append($("<p>").append($("<span>").text(`Post created with id ${data.id}, title: ${data.title}, author: ${data.author}`)));
				}

				function listPosts() {
					$.ajax({url: "http://localhost:3000/posts", type: "GET", dataType: "jsonp", success: function(data) {
						data.forEach(function(item) {
							addPostRow(item); 
						});
					}, error: function() { alert("Server Error"); }
				});
				}

				listPosts();
			});
		</script>
	</head>

	<body>
	</body>
</html>
